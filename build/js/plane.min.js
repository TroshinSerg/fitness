"use strict";var days=$(".plan__days"),grid=$(".plan__grid"),daysList=$(".plan__days-item"),daysItems=days.children(),times=$(".plan__times"),timeItems=$(".plan__times-item"),lessonsDays=$(".plan__column"),lessons=$(".plan__column-item"),NodeModClass={TIME:"plan__times-item--selected",TIME_LIST:"plan__times--disabled",DAY:"plan__days-item--selected",DAYS_LIST:"plan__days--opened",DAY_CURRENT:"plan__days-item--current",GRID:"plan__grid--disabled",COLUMN:"plan__column--active"},WindowWidth={TABLET:1200,MOBILE:768},scrollThumbCss={height:"4px","border-radius":"0","background-color":"#ed0233"},scrollTrackCss={height:"4px","border-radius":"0","background-color":"#feebef"},itemAttribute="data-id",isSelect=!1,isScroll=!1;function highlightItem(s,e){s.addClass(e)}function removeHighlightItem(s,e){s.removeClass(e)}function setDaysSelect(){for(var s=0;s<daysItems.length;s++)$(daysItems[s]).click(onDaysItemClick);days.click(onDaysClick),isSelect=!0}function onDaysClick(){days.toggleClass(NodeModClass.DAYS_LIST),grid.toggleClass(NodeModClass.GRID),times.toggleClass(NodeModClass.TIME_LIST)}function onDaysItemClick(s){var e=$(s.currentTarget),t=parseInt(e.attr(itemAttribute),10),a=$(daysItems[0]),o=parseInt(a.attr(itemAttribute),10);if(e!==a){a.removeClass(NodeModClass.DAY_CURRENT);for(var i=0;i<daysItems.length;i++){if(parseInt($(daysItems[i]).attr(itemAttribute),10)===o-1){$(daysItems[i]).after(a);break}}e.addClass(NodeModClass.DAY_CURRENT),days.prepend(e),showLessonsDay(t),daysItems=days.children()}}function resetOrderDays(){days.empty(),days.removeClass(NodeModClass.DAYS_LIST),days.off("click",onDaysClick),daysList.each(function(s,e){days.append($(e)),$(e).off("click",onDaysItemClick)}),isSelect=!1}function showLessonsDay(t){lessonsDays.each(function(s,e){parseInt($(e).attr(itemAttribute),10)===t?$(e).addClass(NodeModClass.COLUMN):$(e).removeClass(NodeModClass.COLUMN)})}$(window).width()<WindowWidth.MOBILE&&setDaysSelect(),$(window).width()<WindowWidth.TABLET&&(Scrollbar.init(document.querySelector(".plan__main"),{alwaysShowTracks:!0}),$(".scrollbar-track-x").css(scrollTrackCss),$(".scrollbar-thumb-x").css(scrollThumbCss),isScroll=!0),$(window).on("resize",function(){$(window).width()<WindowWidth.MOBILE&&!isSelect?setDaysSelect():$(window).width()>=WindowWidth.MOBILE&&isSelect&&resetOrderDays(),$(window).width()<WindowWidth.TABLET&&!isScroll&&Scrollbar.init(document.querySelector(".plan__main"),{alwaysShowTracks:!0})}),lessons.each(function(s,e){var t=parseInt($(e).parent().attr(itemAttribute),10),a=$(daysItems[t]),o=$(timeItems[(s+4)%4]);$(e).on("mouseover",function(){highlightItem(a,NodeModClass.DAY),highlightItem(o,NodeModClass.TIME)}),$(e).on("focus",function(){highlightItem(a,NodeModClass.DAY),highlightItem(o,NodeModClass.TIME)}),$(e).on("mouseout",function(){removeHighlightItem(a,NodeModClass.DAY),removeHighlightItem(o,NodeModClass.TIME)}),$(e).on("blur",function(){removeHighlightItem(a,NodeModClass.DAY),removeHighlightItem(o,NodeModClass.TIME)})});